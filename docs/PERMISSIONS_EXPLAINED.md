# 🛡️ 权限说明与隐私

X 搜索增强插件在设计时充分考虑了用户的隐私和安全。我们仅请求运行插件所必需的最小权限，并承诺以透明的方式处理这些权限。

## 插件请求的权限及其用途

以下是插件在 `manifest.json` 文件中声明的权限及其具体用途：

1.  **`storage`**:
    * **用途**: 此权限允许插件使用 `chrome.storage.local` API。我们利用此 API 在您的本地浏览器存储中保存以下信息：
        * **特别关注用户列表**: 您通过插件添加的特别关注用户的用户名和昵称。

        * **插件设置**: 例如搜索面板的打开/关闭状态、高级筛选条件的展开/收起状态以及各个筛选字段的当前值。

    * **隐私说明**: 所有这些数据都**仅存储在您自己的计算机上**，插件不会将这些数据上传到任何外部服务器或与第三方共享。这些数据仅用于实现插件的个性化功能和状态记忆。

2.  **`activeTab`**:
    * **用途**: 此权限允许插件在用户明确操作（例如点击浏览器工具栏上的插件图标）时，临时访问当前活动的标签页。

    * **具体场景**:
        * 当您点击插件图标时，`service_worker.js` 需要知道当前活动标签页的 ID，以便向该标签页中的 `content_script.js` 发送消息（例如，指令其打开或关闭搜索面板）。

    * **隐私说明**: `activeTab` 权限是一种相对安全的权限，它只在用户主动与插件交互时授予对当前页面的临时访问权，并且不会读取页面内容，除非配合 `scripting` 权限执行脚本。

3.  **`scripting`**:
    * **用途**: 此权限允许插件向指定的网页中动态注入 JavaScript (`content_script.js`) 和 CSS (`content_styles.css`) 文件，或者执行简短的脚本片段。

    * **具体场景**:
        * **注入核心逻辑**: `content_script.js` 包含了插件在 X.com 页面上运行的所有核心功能（如创建面板、添加星标按钮、处理用户交互等）。此脚本需要在 X.com 页面加载时或之后被注入。

        * **注入样式**: `content_styles.css` 定义了插件界面（如搜索面板）和注入到页面上的元素（如星标按钮、徽章）的样式。

        * **动态注入**: 在某些情况下（例如，如果内容脚本由于某种原因未能初始加载），`service_worker.js` 可能会在用户点击插件图标后，尝试使用 `chrome.scripting.executeScript` 再次注入内容脚本，以确保插件功能可用。

    * **隐私说明**: 此权限是插件能够在 X.com 页面上提供增强功能的基础。脚本的执行范围被严格限制在 `host_permissions` 声明的域名内。

4.  **`host_permissions`**:
    * **声明**: `"*://x.com/*"`, `"*://twitter.com/*"`

    * **用途**: 此权限明确声明了插件被授权在哪些网站上运行其内容脚本和使用 `scripting` API。通过指定 `x.com` 和其旧域名 `twitter.com`，我们确保插件：
        * **仅在相关网站上激活**: 插件的功能（如搜索面板、星标按钮）只会在这些域名下的页面出现和工作。

        * **限制脚本访问范围**: 内容脚本只能访问和操作这些域名下的页面 DOM，无法影响您访问的其他任何网站。

    * **隐私说明**: 这是保护用户隐私和安全的重要措施，确保插件不会在不相关的网站上运行或访问数据。

## 隐私承诺

* **本地存储**: 如上所述，所有由用户产生或与用户设置相关的数据（特别关注列表、面板状态、筛选条件）均存储在用户本地浏览器的 `chrome.storage.local` 中。

* **无数据收集**: X 搜索增强插件**不会收集、追踪、存储或传输任何可识别个人身份的信息 (PII) 或您的浏览活动**到任何插件开发者或第三方服务器。

* **无外部通信**: 插件的核心功能不依赖于任何外部服务器（除了 X.com 本身）。所有处理都在您的浏览器本地完成。

* **开源透明**: (如果项目是开源的) 项目代码是公开的，您可以审查代码以验证我们的隐私承诺。

* **最小权限原则**: 我们致力于仅请求实现插件功能所必需的最小权限集合。

我们理解用户对隐私的关注，并努力确保 X 搜索增强插件在提供强大功能的同时，最大限度地尊重和保护您的个人信息。如果您对插件的权限或隐私政策有任何疑问，请随时通过项目的问题追踪系统或指定的联系方式与我们联系。