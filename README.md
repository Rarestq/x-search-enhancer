# x-search-enhancer

一个专为 X (Twitter) 设计的浏览器插件，增强搜索功能并支持特别关注用户管理。

## ✨ 功能特性

### 🔍 智能搜索
- **关键词搜索**: 在专用面板中输入关键词进行搜索
- **特别关注筛选**: 限制搜索范围至特别关注用户的内容
- **一键搜索**: 自动构建搜索查询并跳转到结果页面

### ⭐ 特别关注用户管理
- **快速添加**: 在任何用户主页点击星标按钮（☆/⭐）添加到特别关注
- **用户列表**: 在搜索面板中查看和管理所有特别关注用户
- **快速访问**: 点击用户项直接跳转到用户主页
- **一键移除**: 随时从特别关注列表中移除用户

### 🎯 视觉识别
- **实时标识**: 在搜索结果中为特别关注用户的推文添加⭐徽章
- **状态同步**: 添加/移除特别关注后实时更新按钮状态
- **动态监听**: 自动识别页面变化并更新相关标识

### 🎨 Apple Design 风格界面
- **现代设计**: 采用 Apple Design 语言，简洁优雅
- **毛玻璃效果**: 半透明背景配合 backdrop-filter 模糊效果
- **流畅动画**: 丰富的过渡动画和交互反馈
- **深色模式**: 自动适应系统主题设置
- **响应式布局**: 适配不同屏幕尺寸

## 🚀 安装方法

### Chrome/Edge (推荐)
1. 下载插件源码并解压到本地文件夹
2. 打开浏览器，访问 `chrome://extensions/` (Chrome) 或 `edge://extensions/` (Edge)
3. 在右上角开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件文件夹
6. 安装完成！插件图标将出现在工具栏

### Firefox
1. 下载插件源码并解压
2. 打开 Firefox，访问 `about:debugging`
3. 点击左侧"此 Firefox"
4. 点击"临时载入附加组件"
5. 选择 `manifest.json` 文件
6. 安装完成！

> **注意**: Firefox 中的安装是临时的，浏览器重启后需要重新加载。

## 📖 使用指南

### 1. 打开搜索面板
- 在任意 X.com 页面点击浏览器工具栏中的插件图标
- 页面右侧将滑入搜索增强面板

### 2. 添加特别关注用户
1. 访问任何 X 用户的主页（例如：`https://x.com/elonmusk`）
2. 在用户名旁边会自动出现星标按钮（☆）
3. 点击星标即可添加到特别关注（按钮变为⭐）
4. 再次点击可以移除特别关注

### 3. 执行搜索
1. 在搜索面板的输入框中输入关键词
2. 查看"特别关注"区域，确认要搜索的用户
3. 点击"开始搜索"按钮
4. 自动跳转到搜索结果页面，仅显示特别关注用户的相关内容

### 4. 管理特别关注用户
- **查看列表**: 搜索面板中显示所有特别关注用户
- **快速访问**: 点击用户项直接访问其主页
- **移除用户**: 点击用户项右侧的 × 按钮移除

### 5. 识别搜索结果
- 特别关注用户的推文会显示金色⭐徽章
- 徽章具有闪烁动画效果，便于快速识别

## 🏗️ 技术架构

### 📁 文件结构
```
x-search-enhancer/
├── manifest.json           # 插件配置文件 (Manifest V3)
├── service_worker.js       # 后台服务工作者
├── content_script.js       # 内容脚本 (核心逻辑)
├── content_styles.css      # 样式文件 (Apple Design)
├── icons/                  # 插件图标
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # 项目文档
```

### 🔧 核心技术
- **Manifest V3**: 使用最新的浏览器扩展标准
- **Service Worker**: 后台脚本处理插件图标点击事件
- **Content Script**: 主要业务逻辑，页面内容操作
- **Chrome Storage API**: 本地存储特别关注用户数据
- **MutationObserver**: 监听 DOM 变化，适配 SPA 路由
- **CSS Variables**: 支持主题定制和深色模式

### 🎨 样式系统
- **模块化 CSS**: 每个组件独立样式类
- **CSS 自定义属性**: 使用 CSS 变量实现主题系统
- **响应式设计**: 适配移动端和不同屏幕尺寸
- **动画效果**: 流畅的过渡和交互动画
- **无障碍支持**: 支持高对比度和减少动画模式

## 🛡️ 权限说明

插件请求的权限及用途：

- **`storage`**: 本地存储特别关注用户列表
- **`activeTab`**: 与当前活动标签页交互
- **`scripting`**: 注入内容脚本到页面
- **`*://x.com/*`**: 仅在 X.com 域名下工作
- **`*://twitter.com/*`**: 兼容旧域名 twitter.com

> **隐私承诺**: 所有数据仅存储在本地浏览器中，不会上传到任何外部服务器。

## 🔧 自定义主题

插件支持通过修改 CSS 变量来自定义主题：

```css
:root {
  --primary-blue: #007AFF;        /* 主色调 */
  --secondary-purple: #5856D6;    /* 次要色调 */
  --text-primary: #1D1D1F;        /* 主要文字颜色 */
  --text-secondary: #8E8E93;      /* 次要文字颜色 */
  --background-primary: rgba(255, 255, 255, 0.95); /* 主背景 */
  --radius-medium: 12px;          /* 圆角大小 */
  /* 更多变量... */
}
```

### 预设主题样式
- **默认主题**: Apple Design 风格
- **深色模式**: 自动跟随系统设置
- **高对比度**: 无障碍访问支持
- **简化动画**: 支持 `prefers-reduced-motion`

## ❗ 故障排除

### 插件图标显示感叹号
- **原因**: 当前页面不是 X.com 域名
- **解决**: 确保在 X.com 页面使用插件

### 找不到添加按钮
- **原因**: 页面尚未完全加载或不是用户主页
- **解决**: 
  - 确保 URL 格式为 `x.com/username`
  - 等待页面完全加载后重试
  - 刷新页面

### 搜索结果无徽章
- **原因**: 特别关注列表为空或页面加载问题
- **解决**: 
  - 确保已添加特别关注用户
  - 刷新搜索结果页面
  - 检查用户名是否正确

### 面板无法打开
- **原因**: 内容脚本未正确加载
- **解决**: 
  - 刷新页面后重试
  - 检查浏览器控制台错误信息
  - 重新安装插件

## 🔄 更新日志

### v1.0.0 (当前版本)
- 🎉 **首次发布**: 完整的 MVP 功能实现
- ⭐ **特别关注管理**: 添加、移除、列表管理
- 🔍 **智能搜索**: 基于特别关注用户的内容搜索
- 🎨 **Apple Design**: 现代化界面设计
- 🌙 **深色模式**: 自动主题适配
- 📱 **响应式**: 移动端友好设计
- 🚀 **Manifest V3**: 使用最新扩展标准
- 🔧 **跨浏览器**: 支持 Chrome/Edge/Firefox

## 🤝 贡献指南

欢迎参与项目改进！

### 开发环境要求
- 现代浏览器 (Chrome 88+, Edge 88+, Firefox 89+)
- 基本的 JavaScript/CSS 知识
- 了解浏览器扩展开发

### 参与方式
1. **Fork** 本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 **Pull Request**

### 代码规范
- 使用现代 JavaScript (ES6+)
- 遵循现有的代码风格
- 添加必要的注释
- 确保跨浏览器兼容性

## 📄 开源协议

本项目采用 [GPL-3.0 License](LICENSE) 开源协议。

## 💬 反馈与支持

如果您在使用过程中遇到问题或有改进建议，欢迎：

- 提交 [Issue](../../issues)
- 发起 [Pull Request](../../pulls)
- 分享使用体验

---

**感谢使用 X 搜索增强插件！** 🎉

如果这个插件对您有帮助，请考虑给项目点个 ⭐ Star！