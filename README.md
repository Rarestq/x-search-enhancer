# x-search-enhancer
一个专为 X (Twitter) 设计的浏览器插件，增强搜索功能并支持特别关注用户管理。

## 功能特性

### 🔍 高级搜索面板
- **关键词搜索**: 输入任意关键词进行搜索
- **内容类型筛选**: 
  - 包含图片 (`filter:images`)
  - 包含视频 (`filter:videos`) 
  - 包含GIF (`filter:gifs`)
  - 包含链接 (`filter:links`)
  - 纯文本 (排除媒体和链接)

### ⭐ 特别关注用户管理
- **快速添加**: 在任何用户主页点击星标按钮添加到特别关注
- **灵活搜索**: 
  - 搜索单个特别关注用户的内容
  - 搜索所有特别关注用户的内容
  - 或者不限制用户范围
- **可视化标识**: 在搜索结果中为特别关注用户的推文添加⭐徽章

### 🎯 智能识别
- 自动识别用户主页并显示添加/移除按钮
- 实时同步特别关注状态
- 搜索结果页面自动标记特别关注用户

## 安装方法

### Chrome/Edge (Chromium 内核)
1. 下载插件文件并解压到文件夹
2. 打开浏览器，进入 `chrome://extensions/` (Chrome) 或 `edge://extensions/` (Edge)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件文件夹
6. 插件安装完成

### Firefox
1. 下载插件文件并解压
2. 打开 Firefox，进入 `about:debugging`
3. 点击"此 Firefox"
4. 点击"临时载入附加组件"
5. 选择 `manifest.json` 文件
6. 插件安装完成

## 使用方法

### 1. 打开搜索面板
- 在 X.com 页面上点击浏览器工具栏中的插件图标
- 右侧会出现搜索增强面板

### 2. 添加特别关注用户
- 访问任何 X 用户的主页 (如 `https://x.com/username`)
- 在用户名旁会出现星标按钮 (☆/⭐)
- 点击星标即可添加或移除特别关注

### 3. 执行高级搜索
1. 在搜索面板中输入关键词
2. 选择需要的内容类型筛选
3. 选择用户范围 (单个用户/所有特别关注用户/不限制)
4. 点击"执行搜索"按钮
5. 自动跳转到搜索结果页面

### 4. 查看搜索结果
- 特别关注用户的推文会显示⭐徽章
- 所有筛选条件会自动应用到搜索结果

## 技术特性

- ✅ **Manifest V3**: 采用最新的浏览器扩展标准
- ✅ **跨浏览器兼容**: 支持 Chrome、Edge、Firefox
- ✅ **响应式设计**: 适配不同屏幕尺寸
- ✅ **实时同步**: 数据实时保存和同步
- ✅ **SPA 兼容**: 支持 X 的单页应用路由变化
- ✅ **性能优化**: 最小化资源占用和DOM操作
- ✅ **样式分离**: CSS 与 JavaScript 完全分离，便于维护和自定义

## 架构设计

### 🎨 样式架构
- **模块化设计**: 每个组件都有独立的样式类
- **主题支持**: 支持明暗主题切换
- **CSS变量**: 使用CSS自定义属性，便于主题定制
- **响应式布局**: 适配不同屏幕尺寸和设备
- **动画效果**: 流畅的过渡动画提升用户体验

### 📁 组件结构
- **Panel Components**: 搜索面板相关组件
- **Button Components**: 星标按钮和操作按钮
- **Badge Components**: 用户标识徽章
- **Form Components**: 搜索表单和输入框
- **List Components**: 用户列表和搜索结果

## 文件结构

```
x-search-enhancer/
├── manifest.json           # 插件配置文件
├── service_worker.js       # 后台脚本 (Manifest V3)
├── content_script.js       # 内容脚本 (主要逻辑)
├── content_styles.css      # 内容脚本样式文件
├── icons/                  # 插件图标文件夹
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # 说明文档
```

## 样式定制

### 🎯 自定义主题
插件支持通过修改 `content_styles.css` 文件来自定义主题：

```css
:root {
  --primary-color: #007AFF;
  --background-color: rgba(255, 255, 255, 0.95);
  --text-color: #1d1d1f;
  --border-radius: 12px;
  /* 更多变量... */
}
```

### 🌈 预设主题
- **Apple Design**: 默认主题，采用苹果设计语言
- **Dark Mode**: 深色模式支持
- **Minimal**: 简约风格主题
- **Colorful**: 多彩主题

## 注意事项

1. **权限说明**:
   - `storage`: 用于保存特别关注用户列表
   - `activeTab`: 用于与当前标签页交互
   - `scripting`: 用于注入内容脚本
   - `*://x.com/*`: 仅在 X.com 域名下工作

2. **兼容性**:
   - 由于 X.com 的页面结构可能会变化，部分DOM选择器可能需要更新
   - 插件会自动重试和适配不同的页面加载状态

3. **数据存储**:
   - 所有数据存储在本地浏览器中
   - 不会上传任何用户数据到外部服务器

4. **样式兼容**:
   - CSS样式与JavaScript逻辑完全分离
   - 支持CSS变量自定义主题
   - 兼容不同浏览器的CSS特性

## 故障排除

### 插件图标显示感叹号
- 确保当前页面是 X.com 域名
- 刷新页面后重试

### 无法找到添加按钮
- 确保在用户主页 (格式: `x.com/username`)
- 等待页面完全加载后重试

### 搜索结果无徽章显示
- 确保已添加特别关注用户
- 刷新搜索结果页面

### 样式显示异常
- 检查 `content_styles.css` 文件是否正确加载
- 清除浏览器缓存后重试
- 确保浏览器支持CSS自定义属性

## 更新日志

### v1.1.0 (最新)
- 🎨 **样式架构重构**: CSS与JavaScript完全分离
- 🌈 **主题系统**: 支持自定义主题和CSS变量
- 📱 **响应式优化**: 更好的移动端体验
- ⚡ **性能提升**: 减少内联样式，提高渲染性能
- 🛠️ **维护性提升**: 模块化代码结构，便于维护

### v1.0.0
- 初始版本发布
- 实现所有 MVP 核心功能
- 支持 Manifest V3
- 跨浏览器兼容

## 开发者信息

本插件遵循 MIT 开源协议，欢迎提交 Issue 和 Pull Request。

### 技术栈
- JavaScript ES6+
- Manifest V3 WebExtensions API
- CSS3 动画和响应式设计
- Chrome Storage API
- CSS自定义属性 (CSS Variables)

### 开发环境
- 支持 Chrome 88+、Edge 88+、Firefox 89+
- 使用现代 JavaScript 特性
- 遵循 Web 标准和最佳实践
- CSS-in-JS 分离架构

### 贡献指南
1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 发起 Pull Request

欢迎贡献代码、报告问题或提出改进建议！